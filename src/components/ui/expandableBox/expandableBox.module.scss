@use "/src/styles/abstracts" as *;

@mixin underline {
    @include before-after;
    width: 85%;
    height: 0.35em;
    border-radius: 0.2em;
    background-color: $primary;
    position: absolute;
    bottom: 0.2em;
    @include horizontal-center;
}

@mixin expandboxOpen {
    display: block;
    box-shadow: 0px 15px 15px 2px rgba(0, 0, 0, 0.20);
    
    &::after {
        background-color: $secondary;
        bottom: .4em;
    }
}

.box {
    $normal-height: 7.5em;
    overflow: visible;
    position: relative;
    width: 100%;
    max-width: 15rem;
    height: $normal-height;

    .boxInside {
        max-width: 15rem;
        position: absolute;
        overflow: hidden;
        max-height: $normal-height;
    
        box-shadow: $shadow-2;
        width: 100%;
        padding: 0;

        @include transition(max-height, 400ms);

        &::after {
            @include underline;
        }

        .headerContainer {
            position: relative;
            height: 7.5em;
    
            .iconCover {
                position: absolute;
                top: 0.35em;
                left: 0.35em;
                font-size: 2em !important;
                @include transition(color);
            }
    
            h3 {
                width: 100%;
                font-size: 1.4em;
                text-align: center;
                position: absolute;
                bottom: 1.2em;
                font-family: 'Raleway-SemiBold';
            }
        }
    
        .expandArea {
            width: 100%;
            padding: 0 1rem 0 1rem;
    
            overflow: hidden;
            height: 0;
            font-size: .9em !important;
            transition: height 300ms ease-out, box-shadow 100ms ease-in;
            @include prefix(hyphens, auto);
        }
    }

    
}

@media (hover: hover) {
    .boxInside {

        &:hover {
            max-height: 30em;

            .headerContainer {
                .iconCover {
                    color: $teal-500 !important;
                }
            }
    
            .expandArea{
                @include expandboxOpen;
            }

            :global(.col):has(&) {
                z-index: 10;
            }
        }
    }
}

@media (max-width: $PC-low) {
    .box {
        &.open {
            .boxInside {
                max-height: 30em;
                z-index: 100;
            }

            .headerContainer {
                .iconCover {
                    color: $teal-500 !important;
                }
            }
    
            .expandArea{
                @include expandboxOpen;
            }

            .backOverlay {
                z-index: 12;
                @include overlay;
            }

            :global(.col):has(&) {
                z-index: 10;
            }
        }
    }
}

@media (max-width: $mobile-L) {
    .box {
        $normal-height: 6em;
        height: $normal-height;
        max-width: 9rem;


        .boxInside {
            max-height: $normal-height;

            .headerContainer {
                height: $normal-height;

                h3 {
                    font-size: 1em;
                }
    
                .iconCover {
                    font-size: 1.2em !important;
                }
            }
    
            .expandArea {
                font-size: 0.5em;
            }
        }
    }
}